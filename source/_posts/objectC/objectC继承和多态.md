---
title: objectC继承和多态
date: 2018-04-15 13:20:33
tags: 
  - "objectC"
categories: "objectC语言学习"
---

## 继承
1、 语法
@interface 类名 : 父亲类的名称

@end
2、 oc继承特点

- 单根性，一个类只能有一个父类，不能有多个父类
- 传递性，A类从B类继承，B类从C类继承，那么A类就同时拥有BC类的成员


##  NSObject 类
1、 是Foundation框架中的类，在这个类中有一个类方法new 这个方法是用来创建对象的，方法的返回值是创建这个对象的指针。也就是说，如果要创建类的对象，就必须要调用这个new方法。如果想要我们的类具备创建对象的能力，就必须让我们的类直接或者间接的从NSObject类继承。

## super

1、 可以用在类方法和对象方法之中
2、 在对象方法中可以使用super关键字调用当前对象从父类继承过来的对象方法
3、 在类方法中 super关键字可以调用当前类从父类继承过来的类方法
4、 super只能用来调用父类的对象方法或者类方法，不能用来访问属性
5、 super特指这个方法是从父类继承过来的

## 访问修饰符

1、 用来修饰属性的，可以限定对象的属性在那个阶段范围之中访问

- @private 私有属性只能在本类的内部访问
- @protected 受保护的属性，被protected修饰的属性，只能在本类和本类的子类中访问
- @package 被@package修饰的属性 可以在当前框架中访问
- @public 公共的，被@public修饰的属性，可以在任意的地方访问

2、 如果部位属性指定访问修饰符， 那么默认的就是@protected

3、 子类仍然可以继承父类私有属性，只不过在子类当中无法去直接访问从父类继承过来的私有属性。但是如果父类在有个对象方法来直接操作私有属性，子类可以调用此访问来间接操作此属性

4、 访问修饰符的作用域问题，从写访问修饰符的地方开始往下，直到遇到另外一个访问修饰符或者结束大括弧为止，中间的所有属性都应用这个访问修饰符

5、 使用建议

- @public无论什么情况下都不要使用，属性不要直接暴露给外界
- @private 如果希望此属性只在本类中使用，不想在子类中使用，就使用它
- @protected 如果希望此属性只在本类和子类中使用，就使用它，默认就是它

6、 访问修饰符只能用来修饰属性，不能用来修饰方法

7、 如果属性定义在@interface中并标记为@private修饰，Xcode仍然会提示对象中有这个属性，只不过没有权利访问。如果想要实现真私有，在@implementation后面的大括弧中，写下此属性即可。这个里面的属性是一个私有属性，各种访问修饰符无效，外界也不会提示。

8、 私有方法，方法不写声明，只写实现，那么这个方法就是一个私有方法，只能在本类的其他方法中调用，其他外部调用不了

## 里氏替换原则 lsp

1、子类可以替换父类的位置，并且程序的功能不受影响
2、当一个父类指针指向一个子类对象的时候，这里就有里氏替换原则
3、lsp的作用
 
 - 一个指针中不仅可以存储本类对象的地址还可以存储子类对象的地址
 - 如果一个指针的类型是NSObject类型的，那么这个指针中可以存储任意的oc对象的地址
 - 如果一个数组的元素的类型是一个oc指针类型的，那么这个数组中不仅可以存储本类对象还可以储存子类对象
 - 如果一个数组的元素是NSObject指针类型，那么意味着任意oc对象都可以存储到这个数组中
 - 如果一个方法的参数是一个对象，那么为这个参数传值的时候，一个传递一个本类对象，也可以传递子类对象，对方法中的代码不会有丝毫的影响

 4、 当一个父类指针指向一个子类对象的时候，通过这个父类指针只能去调用子类对象中的父类成员，子类独有的成员无法访问

 ## 方法的重写
 1、 拥有父类的行为，但是行为的具体实现和父类的实现不一样。那么子类就按照自己的方式重写这个方法就可以了
 2、 当一个父类指针指向一个子类对象的时候，通过这个父类指针调用的方法，如果子类对象中重写了，调用的就是这个子类对象重写的方法

 ## 多态
 1、指的是同一个行为，对于不同的事物具有不同的表现形式。比如打招呼，中国人打招呼和美国人不同和韩国人也不同。

 ## description
 1、 %p 打印的是指针变量的值
 2、 %@ 打印的是指针变量指向的对象
 3、 如果使用%@打印1个对象 输出的格式： <对象的类名 ：对象的地址>，原理：第一步调用传入对象的description方法，第二步拿到这个方法的返回值，这个返回值是一个字符串，将这个字符串输出
 4、 description方法是定义在NSObject类之中的。什么时候需要重写description方法，如果希望使用%@打印一个自定义格式的输出，重写即可

